<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Malcolm X 100th Birthday Filter</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      display: flex; flex-direction: column; align-items: center;
      background: #121212; color: #ECECEC;
      font-family: 'Inter', sans-serif; min-height: 100vh; padding: 1rem;
    }
    h1 {
      font-family: 'Times New Roman', serif;
      font-size: 2.75rem; font-weight: normal; letter-spacing: 2px;
      color: #fff; text-shadow: 2px 2px 4px rgba(0,0,0,0.6);
      margin-bottom: 2.5rem;
    }
    .camera-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      aspect-ratio: 1 / 1;           /* square */
      margin-bottom: 1rem;
      border-radius: 12px;
      overflow: hidden;
      background: #000;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    }
    video, canvas {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      object-fit: cover;
    }
    /* Full-screen overlay */
    #overlay.overlay-full {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%; object-fit: cover;
      pointer-events: none; z-index: 5;
    }
    /* Big medallion corner */
    #overlay.overlay-small {
      position: absolute;
      width: 75%;                /* now 75% */
      bottom: 5px; right: 5px;   /* tighter corner */
      object-fit: contain;
      pointer-events: auto;      /* allow interaction for drag/pinch */
      touch-action: none;        /* allow pinch/drag */
      z-index: 5;
    }
    .nav-arrow {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: rgba(255,255,255,0.8); color: #121212;
      border: none; border-radius: 50%;
      width: 2.5rem; height: 2.5rem; font-size: 1.5rem;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      z-index: 10;
    }
    #prev-btn { left: 10px; }
    #next-btn { right: 10px; }
    #controls {
      display: flex; gap: 1rem;
      width: 100%; max-width: 400px;
      margin-top: 1rem;
    }
    button.control {
      flex: 1; padding: .75rem; font-size: 1rem; font-weight: 600;
      color: #121212; background: #ECECEC; border: none; border-radius: 8px;
      cursor: pointer; transition: transform .1s, box-shadow .1s;
    }
    button.control:hover {
      transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    button.control:active {
      transform: translateY(0); box-shadow: none;
    }
    a#download {
      display: inline-block; margin-top: .75rem; padding: .5rem 1rem;
      background: #ECECEC; color: #121212; text-decoration: none;
      border-radius: 8px; font-weight: 600; transition: background .2s;
    }
    a#download:hover { background: #fff; }
    #retake-btn { display: none; margin-top: .5rem; }
    #footer {
      margin-top: 2rem; text-align: center; font-size: .75rem; color: #888; line-height: 1.2;
    }
    #logo-link img {
      display: block; margin: .5rem auto 0; max-width: 200px; height: auto;
    }
  </style>
</head>
<body>
  <h1>Malcolm X Centennial Stamp</h1>

  <div class="camera-container">
    <button id="prev-btn" class="nav-arrow">‹</button>
    <video id="video" autoplay playsinline muted></video>
    <img id="overlay" class="overlay-small" src="overlay1.png" alt="Medallion badge" />
    <canvas id="canvas" style="display:none;"></canvas>
    <button id="next-btn" class="nav-arrow">›</button>
  </div>

  <div id="controls">
    <button id="flip-btn" class="control">Flip Camera</button>
    <button id="capture-btn" class="control">Capture</button>
  </div>

  <a id="download" style="display:none;">Download and Share</a>
  <button id="retake-btn" class="control">Retake</button>

  <div id="footer">
    <p>Presented by CMG Worldwide</p>
    <p>All Rights Reserved</p>
    <a id="logo-link" href="https://www.cmgworldwide.com/" target="_blank" rel="noopener">
      <img src="cmg_logo.png" alt="CMG Worldwide Logo" />
    </a>
  </div>

  <script src="filter.js"></script>
</body>
</html>
